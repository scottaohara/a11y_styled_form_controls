<!doctype html>
<html lang="en" class="no-js">
	<head>
		<meta charset="utf-8">
		<title>
			Styled Single Selects
		</title>
		<meta name="viewport"
			content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<script>
			// remove no-js and add 'js' to the HTML
			document.documentElement.className = document.documentElement.className.replace('no-js', 'js');
		</script>
		<link rel="stylesheet" href="../assets/css/--demo-only--.css">
		<link rel="stylesheet" href="../assets/css/--shared--.css">
		<link rel="stylesheet" href="../assets/css/select.css">
	</head>
	<body>

		<div class="demo-wrap">

			<header class="demo-wrap__header">
				<h1>Styled Single Selects</h1>
				<p>
					Cross-browser styling for the select form control.
				</p>
				<nav>
					<a href="https://github.com/scottaohara/a11y_styled_form_controls">See source on GitHub</a>,
					<a href="/a11y_styled_form_controls">Index of form controls</a>
				</nav>
			</header>

			<main>
				<article class="demo">
					<h2>
						Pattern Demo
					</h2>

					<label for="ex_custom_select">
						Custom Style Select
					</label>
					<div class="select">
						<select id="ex_custom_select">
							<option>Option 1</option>
							<option>Option 2</option>
							<option disabled>Option 3</option>
							<option>Option 4</option>
						</select>
					</div>

					<hr>

					<label for="ex_custom_select_dis">
						Custom Style Select - Disabled
					</label>
					<div class="select">
						<select id="ex_custom_select_dis" disabled>
							<option>Option 1</option>
							<option>Option 2</option>
							<option>Option 3</option>
						</select>
					</div>

					<hr>

					<label for="ex_custom_select_g">
						Custom Style Select with Optgroup
					</label>
					<div class="select">
						<select id="ex_custom_select_g">
							<option>Option 1</option>
							<option>Option 2</option>
							<option>Option 3</option>
							<optgroup label="Alternate">
								<option>Option 4</option>
								<option>Option 5</option>
							</optgroup>
						</select>
					</div>

					<section class="demo-details">
						<h3>
							Pattern Details
						</h3>

						<details open>
							<summary>Pattern Markup</summary>
							<pre><code>&lt;label for="ex_custom_select">
  Custom Style Select
&lt;/label>
&lt;div class="select">
  &lt;select id="ex_custom_select">
    &lt;option>Option 1&lt;/option>
    &lt;option>Option 2&lt;/option>
    &lt;option>Option 3&lt;/option>
  &lt;/select>
&lt;/div></code></pre>
						</details>

						<p>
							Consistently styling <code>select</code> form controls across browsers has never been a straight forward task. While the markup pattern outlined here can provide consistent custom styling for a <code>select</code>'s default and focused states, the <code>option</code> and <code>optgroup</code> elements within do not fare as well to custom styles.
						</p>

						<p>
							The wrapping <code>div.select</code> is in place to provide a <code>position: relative</code> container, and to create and position the <code>:before</code> and <code>:after</code> pseudo elements, which create the custom down arrow and its focus state background color.
						</p>

						<p>
							The wrapping <code>div</code> also handles the background color to the <code>select</code>. The background styling should be done to this wrapping element, and not the <code>select</code> element itself, to mitigate issues with how <code>option</code> and <code>optgroup</code> elements inconsistently inherit background color styling of the <code>select</code> across browsers.
						</p>

						<p>
							The <code>select</code> has much of its native HTML styling removed by use of vendor prefixed <code>appearance: none</code>. Once those native styles have been removed, the element can be redesigned with additional CSS. Additional selectors for removing native styling from Microsoft browsers, and the focus ring from Firefox also exist.
						</p>

						<p>
							The <code>option</code> and <code>optgroup</code> elements can receive minor styling updates to their <code>color</code>, but outside of using this for indicating <code>disabled</code> states, the <code>option</code>s have been largely left in tact to maintain legibility and consistent design across browsers. For instance, Firefox would allow for background styling of the <code>option</code>s, but not the <code>optgroup</code>, which could lead to an unwanted grey bar behind the <code>optgroup</code> and illegible text if the <code>color</code> was not a good match. Internet Explorer and Edge do allow for some <code>option</code> and <code>optgroup</code> styling, such as <code>background</code>, <code>color</code> and <code>font-size</code> updates.  Chrome and Safari largely just ignored any attempt at styling the <code>option</code> or <code>optgroup</code>s, rendering them as browser defaults.
						</p>

						<p>
							In conclusion, to "style" a standard <code>select</code> element and give it consistent design across all browsers, its advised to keep the <code>option</code> and <code>optgroup</code> styling as close to browser defaults as possible.  If a fully styleable single-<code>select</code> form control is desired, an <a href="http://w3c.github.io/aria-practices/#Listbox">ARIA listbox</a> might be the way to go. Note, there's quite a bit to do to recreate native <code>select</code> functionality, and keeping small/touch screens in mind.
						</p>

						<h4>Affects on Screen Reader Announcements?</h4>
						<p>
							There are no alterations to how a screen reader should announce styled select form controls.
						</p>
					</section>
				</article>
			</main>
		</div> <!-- /.demo-wrap -->

	</body>
</html>
