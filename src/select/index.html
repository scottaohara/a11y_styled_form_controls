<!doctype html>
<html lang="en" class="no-js">
	<head>
		<meta charset="utf-8">
		<title>
			Styled Single Selects
		</title>
		<meta name="viewport"
			content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<script>
			// remove no-js and add 'js' to the HTML
			document.documentElement.className = document.documentElement.className.replace('no-js', 'js');
		</script>
		<link rel="stylesheet" href="../assets/css/--demo-only--.css">
		<link rel="stylesheet" href="../assets/css/--shared--.css">
		<link rel="stylesheet" href="../assets/css/select.css">
	</head>
	<body>

		<div class="demo-wrap">

			<header class="demo-wrap__header">
				<h1>Styled Single Selects</h1>
				<p>
					Cross-browser styling for the select form control.
				</p>
				<nav>
					<a href="https://github.com/scottaohara/a11y_styled_form_controls">See source on GitHub</a>,
					<a href="/a11y_styled_form_controls">Index of form controls</a>
				</nav>
			</header>

			<main>
				<article class="demo">
					<h2>
						Pattern Demo
					</h2>

					<label for="ex_custom_select">
						Custom Style Select
					</label>
					<div class="select">
						<select id="ex_custom_select">
							<option>Option 1</option>
							<option>Option 2</option>
							<option disabled>Option 3</option>
							<option>Option 4</option>
						</select>
					</div>

					<hr>

					<label for="ex_custom_select_dis">
						Custom Style Select - Disabled
					</label>
					<div class="select">
						<select id="ex_custom_select_dis" disabled>
							<option>Option 1</option>
							<option>Option 2</option>
							<option>Option 3</option>
						</select>
					</div>

					<hr>

					<label for="ex_custom_select_g">
						Custom Style Select with Optgroup
					</label>
					<div class="select">
						<select id="ex_custom_select_g">
							<option>Option 1</option>
							<option>Option 2</option>
							<option>Option 3</option>
							<optgroup label="Alternate">
								<option>Option 4</option>
								<option>Option 5</option>
							</optgroup>
						</select>
					</div>

					<section class="demo-details">
						<h3>
							Pattern Details
						</h3>

						<p>
							Consistent select form control styling across different browsers has never been a straightforward task.
						</p>

						<p>
							While the <code>select</code> wrapper can be consistently styled using the following technique, the the <code>option</code> and <code>optgroup</code> elements within do not fare as well. Poor cross-browser support means that it is currently impossible to create consistent styling for these two elements.
						</p>

						<details open>
							<summary>Pattern Markup</summary>
							<pre><code>&lt;label for="ex_custom_select">
  Custom Style Select
&lt;/label>
&lt;div class="select">
  &lt;select id="ex_custom_select">
    &lt;option>Option 1&lt;/option>
    &lt;option>Option 2&lt;/option>
    &lt;option>Option 3&lt;/option>
  &lt;/select>
&lt;/div></code></pre>
						</details>

						<p>
							The wrapping <code>div.select</code>'s primary purpose is to act as a styling hook. It utilizes <code>position: relative;</code> to keep absolute positioned child and pseudo elements within the confines of the component.
						</p>

						<p>
							It is also used to create and position the <code>:before</code> and :after pseudo elements that are used to compose the down arrow icon and the component's background.
						</p>

						<p>
							The <code>select</code> element itself has much of its native <abbr>HTML</abbr> styling removed by the use of vendor-prefixed declarations. Once the vendor styles have been removed, the element can be redesigned with <abbr>CSS</abbr>.
						</p>

						<h4>Background color</h4>

						<p>
							Background color styling should also be controlled by this wrapping <code>div</code> element, and not the <code>select</code> element itself. This will mitigate issues with <code>option</code> and <code>optgroup</code> rendering inconsistently in different browsers and affecting the background color.
						</p>

						<h4><code>option</code> and <code>optgroup</code> styling</h4>

						<p>
							To maintain legibility and consistent design across browsers, the styling options for the <code>option</code> and <code>optgroup</code> elements are limited.
						</p>

						<p>
							For example, Firefox will allow background styling for the <code>select</code>'s <code>option</code> elements, but not the <code>optgroup</code> element. Doing so will create an unwanted grey bar behind the <code>optgroup</code>, which may create illegible option text, if the color contrast is not sufficient.
						</p>

						<p>
							Internet Explorer and Edge do allow for some option and <code>optgroup</code> styling, including background, color, and font size adjustments. Chrome and Safari largely ignore any attempt at styling the <code>option</code> or <code>optgroup</code> elements, rendering them as browser defaults.
						</p>

						<p>
							Because of this, it is recommended that color only be used to help indicate disabled states.
						</p>

						<h4>Affects on Screen Reader Announcements?</h4>
						<p>
							There are no alterations to how a screen reader should announce styled select form controls.
						</p>

					</section>
				</article>
			</main>
		</div> <!-- /.demo-wrap -->

	</body>
</html>
