<!doctype html>
<html lang="en" class="no-js">
	<head>
		<meta charset="utf-8">
		<title>
			Styled Radio Button Pills
		</title>
		<meta name="viewport"
			content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<script>
			// remove no-js and add 'js' to the HTML
			document.documentElement.className = document.documentElement.className.replace('no-js', 'js');
		</script>
		<link rel="stylesheet" href="../assets/css/--demo-only--.css">
		<link rel="stylesheet" href="../assets/css/--shared--.css">
		<link rel="stylesheet" href="../assets/css/radio--pill.css">
		<style>
			form + form {
				margin-top: 1.25em;
			}
		</style>
	</head>

	<body>

		<div class="demo-wrap">

			<header class="demo-wrap__header">
				<p class="demo-wrap__header__title">
					Accessible Styled Form Controls
				</p>
				<nav>
					<a href="https://github.com/scottaohara/a11y_styled_form_controls">See source on GitHub</a>,
					<a href="/a11y_styled_form_controls">Index of styled form controls</a>
				</nav>
			</header>

			<main aria-label="content">

				<article class="demo">
					<header>
						<h1>Styled Radio Button Pills</h1>
						<p>Last updated: <time>August 14, 2018</time></p>
						<p>
							Pattern to restyle a radio button group into a selection pill.
						</p>
					</header>
					<h2>
						Pattern Demo
					</h2>

					<form method="post" action="#">
						<fieldset class="r-pill">
							<legend>
								Group Title
							</legend>

							<div class="r-pill__group">
								<span class="r-pill__item">
									<input type="radio" id="r1" name="radios" checked>
									<label for="r1">Option 1</label>
								</span>

								<span class="r-pill__item">
									<input type="radio" id="r2" name="radios">
									<label for="r2">Option 2</label>
								</span>

								<span class="r-pill__item">
									<input type="radio" id="r3" name="radios">
									<label for="r3">Option 3</label>
								</span>
							</div>
						</fieldset>
					</form>

					<form method="post" action="#">
						<fieldset class="r-pill">
							<legend>
								Show:
							</legend>

							<div class="r-pill__group">
								<span class="r-pill__item">
									<input type="radio" id="r1a" name="radios_2" checked>
									<label for="r1a">All</label>
								</span>

								<span class="r-pill__item">
									<input type="radio" id="r3a" name="radios_2">
									<label for="r3a">Many</label>
								</span>

								<span class="r-pill__item">
									<input type="radio" id="r2a" name="radios_2">
									<label for="r2a">Some</label>
								</span>

								<span class="r-pill__item">
									<input type="radio" id="r2aa" name="radios_2" disabled>
									<label for="r2aa">Few</label>
								</span>
							</div>
						</fieldset>
					</form>

					<form method="post" action="#">
						<fieldset class="r-pill" disabled>
							<legend>
								Show (no group wrapper):
							</legend>

							<span class="r-pill__item">
								<input type="radio" id="r1ab" name="radios_2" checked>
								<label for="r1ab">All</label>
							</span>

							<span class="r-pill__item">
								<input type="radio" id="r3ab" name="radios_2">
								<label for="r3ab">Many</label>
							</span>

							<span class="r-pill__item">
								<input type="radio" id="r2ab" name="radios_2">
								<label for="r2ab">Some</label>
							</span>

							<span class="r-pill__item">
								<input type="radio" id="r2aab" name="radios_2">
								<label for="r2aab">Few</label>
							</span>
						</fieldset>
					</form>

					<section class="demo-details">
						<h3>
							Pattern Details
						</h3>

						<details open>
							<summary>Pattern Markup</summary>
								<pre><code class="language-html">&lt;fieldset class="r-pill">
  &lt;legend>Group Title&lt;/legend>

  &lt;div class="r-pill__group"> &lt;!-- optional styling wrapper -->
  	&lt;span class="r-pill__item">
	    &lt;input type="radio" id="r1" name="radios" checked>
	    &lt;label for="r1">Option 1&lt;/label>
	  &lt;/span>
	  &lt;span class="r-pill__item">
	    &lt;input type="radio" id="r2" name="radios">
	    &lt;label for="r2">Option 2&lt;/label>
	  &lt;/span>
  &lt;/div>
&lt;/fieldset></code></pre>
						</details>

						<p>
							As with the <a href="https://scottaohara.github.io/a11y_styled_form_controls/src/radio-button/">styled radio buttons</a> pattern, the radio button pills also utilize visually hidden native HTML radio buttons as the cornerstone for providing the necessary semantics and user experience for keyboard users, and the accessibility <abbr>API</abbr>.
						</p>

						<p>
							The radio buttons are wrapped in a <code>fieldset</code> element. The presence of the <code>fieldset</code> element groups the radio buttons and programmatically communicates that they are functionally interdependent. The <code>legend</code> element provides a description of the grouped radio buttons' purpose.
						</p>

						<p>
							If it makes sense for the grouping of radio buttons to be called out in the document outline, then the <code>legend</code> can incorporate an appropriately ranked heading element (e.g. <code>h3</code>).
						</p>

						<p>
							The form control with the <code>checked</code> attribute applied to it will trigger a <abbr>CSS</abbr> selector that visually updates the appearance of the sibling <code>label</code> associated with it, indicating that it is the selected option. As there is no way to deselect a radio button, without also resetting an entire form or including a radio button option specifically to indicate a "no selection", a radio button pill should always have a radio button set with a default <code>checked</code> attribute.
						</p>

						<p>
							A selector targeting the last <code>label</code>'s <code>:after</code> pseudo-element will create an outline around the entire component to indicate it has keyboard focus and can be interacted with.
						</p>

						<h4>Affects on Screen Reader Announcements?</h4>
						<p>
							Since the native radio buttons remain in the DOM, and are used as the focusable elements that control the state of their custom visualization, there are no alterations to how a screen reader announces keyboard focused styled radio buttons.
						</p>

						<p>
							Using standard visually hidden CSS to hide the native radio button off screen, or as a single pixel in the document, will mean that certain screen reader users might be unable to locate the radio button. For instance, those searching by touch, or using a mouse while a screen reader announces what is being hovered. To mitigate this, the radio buttons have been positioned on top of their styled <code>label</code>s, yet still styled to be visually hidden. Note that NVDA does not announce the radio button role when hovered by mouse, regardless of it being styled or not, unless default NVDA settings are changed.
						</p>

						<p>
							When a radio button is receives keyboard focus, screen readers like JAWS and NVDA may automatically go into forms mode, or require a user to hit <kbd>Enter</kbd> or <kbd>Space</kbd> to focus into the radio button, depending on the user's settings. Then arrow keys can be used to select the different radio buttons, as expected in forms mode.
						</p>

						<p>
							VoiceOver on macOS may begin to focus the radio button labels when using arrow keys to change the selected radio button. This issue does not exist in VoiceOver + Chrome and is not necessarily unique to this particular styling of radio buttons.
						</p>

						<h4>Usage note</h4>
						<p>
							Radio buttons are meant to indicate a group of single choice options, typically part of a larger form area of a document. It may be acceptable to a pattern like this outside of the context of a form, as long as reverting state is a simple process for the user, and the user is aware of the effect the state change will have on the UI. Be mindful of <a href="https://www.w3.org/TR/UNDERSTANDING-WCAG20/consistent-behavior-unpredictable-change.html"><abbr>WCAG</abbr> 3.2.2, On Input</a>.
						</p>

						<p>
							Alternatively, a grouping of <code>button</code> elements that are aware of each other's state, and utilize <code>aria-pressed="true/false"</code> to indicate their own state, may be more appropriate and understandable to users.
						</p>

					</section> <!-- /.demo-details -->
				</article> <!-- /.demo -->
			</main>
		</div> <!-- /.demo-wrap -->
		<script>
			var highlighterCSS = function () {
			  var head = document.head;
			  var link = document.createElement('link');

			  link.rel = 'stylesheet';
			  link.href = '../assets/vendor/prism.css';

			  head.appendChild(link);
			}

			highlighterCSS();
		</script>
		<script src="../assets/vendor/prism.js"></script>
	</body>
</html>

